"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[181],{9181:function(n,e,t){t.r(e),t.d(e,{default:function(){return $n}});var r,a,o,i,s,c,l,d,p,u,x,m,h,f,b,g=t(4270),Z=t(2791),j=t(9434),y=t(3634),v=t(4757),w=t(5705),P=t(6727),k=t(168),z=t(6444),C=(0,z.ZP)(w.J9)(r||(r=(0,k.Z)([""]))),A=(0,z.ZP)(w.l0)(a||(a=(0,k.Z)(["\n  gap: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n  max-width: 400px;\n  background: white;\n  border-radius: 30px;\n  & label {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    & span {\n      margin-bottom: 5px;\n      font-size: 20px;\n    }\n  }\n"]))),F=(0,z.ZP)(w.gN)(o||(o=(0,k.Z)(["\n  padding: 0 20px;\n  background: #e9eff6;\n  line-height: 40px;\n  border-width: 0;\n  border-radius: 5px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 18px;\n\n  &:focus {\n    outline: none;\n    border: solid 2px #560bad;\n  }\n"]))),_=(0,z.ZP)(F)(i||(i=(0,k.Z)([""]))),S=z.ZP.button(s||(s=(0,k.Z)(["\n  --color: black;\n  padding: 5px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-family: inherit;\n  cursor: pointer;\n  width: 8em;\n  height: 2.6em;\n  line-height: 2.5em;\n  margin: 20px;\n  font-size: 17px;\n  border-radius: 6px;\n  font-weight: 500;\n\n  &:hover {\n    color: #fff;\n    background-color: black;\n  }\n\n  &:hover:before {\n    top: -30px;\n    left: -30px;\n  }\n"]))),E=z.ZP.p(c||(c=(0,k.Z)(["\n  color: red;\n"]))),B=t(184),L={name:"",number:""},N=(0,P.Ry)({name:(0,P.Z_)().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required(),number:(0,P.Z_)().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),J=function(n){var e=n.onSubmit;return(0,B.jsx)(C,{initialValues:L,onSubmit:function(n,t){var r=n.name,a=n.number,o=t.resetForm;e(r,a),o()},validationSchema:N,children:(0,B.jsxs)(A,{autoComplete:"off",children:[(0,B.jsxs)("label",{children:[(0,B.jsx)("span",{children:"Name"}),(0,B.jsx)(F,{placeholder:"Enter contact name",type:"text",name:"name"}),(0,B.jsx)(w.Bc,{component:E,name:"name"})]}),(0,B.jsxs)("label",{children:[(0,B.jsx)("span",{children:"Phone"}),(0,B.jsx)(_,{placeholder:"Enter contact phone",type:"tel",name:"number"}),(0,B.jsx)(w.Bc,{component:E,name:"number"})]}),(0,B.jsx)(S,{type:"submit",children:"Add contact"})]})})},R=t(9439),I=t(5218),M=t(8820),W=t(9126),q=t(5880),G=z.ZP.div(l||(l=(0,k.Z)(["\n  display: flex;\n  gap: 5px;\n"]))),V=z.ZP.div(d||(d=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 50px;\n  height: 50px;\n  font-size: 30px;\n  font-weight: 700;\n  background: transparent;\n  color: #000;\n  border: solid 2px #560bad;\n  border-radius: 15px;\n"]))),H=(0,z.F4)(p||(p=(0,k.Z)(["\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n"]))),K=(0,z.ZP)(q.frZ)(u||(u=(0,k.Z)(["\n  animation: "," 0.85s linear infinite;\n"])),H);K.defaultProps={size:40};var $,T,Y,D,O,Q,U,X,nn,en,tn,rn,an,on,sn,cn,ln,dn,pn=z.ZP.div(x||(x=(0,k.Z)(["\n  display: flex;\n  gap: 5px;\n  flex-direction: column;\n"]))),un=z.ZP.button(m||(m=(0,k.Z)(["\n  padding: 5px;\n  width: 40px;\n  border-color: #000000;\n  border-radius: 50%;\n  transition: border-color 0.2s ease;\n  &:hover {\n    border-color: yellow;\n  }\n  &:hover svg {\n    fill: yellow;\n  }\n  & svg {\n    fill: #000000;\n    transition: fill 0.2s ease;\n  }\n"]))),xn=z.ZP.button(h||(h=(0,k.Z)(["\npadding: 5px;\nwidth: 40px;\nborder: 1px solid;\nborder-radius: 50%;\ncursor: pointer;\n\n&:hover {\n  color: tomato;\n  background-color: black;\n"]))),mn=z.ZP.span(f||(f=(0,k.Z)(["\n  color: #000000;\n"]))),hn=z.ZP.span(b||(b=(0,k.Z)(["\n  color: #560bad;\n"]))),fn=t(7762),bn=t(4164),gn=(0,z.F4)($||($=(0,k.Z)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))),Zn=z.ZP.div(T||(T=(0,k.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1200;\n"]))),jn=(0,z.ZP)(w.J9)(Y||(Y=(0,k.Z)([""]))),yn=z.ZP.h3(D||(D=(0,k.Z)(["\n  font-size: 30px;\n  color: #560bad;\n"]))),vn=(0,z.ZP)(w.l0)(O||(O=(0,k.Z)(["\n  display: flex;\n  gap: 20px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 20px;\n  max-width: 400px;\n  text-align: center;\n  animation: "," 0.5s ease;\n  background: white;\n  border-radius: 30px;\n  & label {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    & span {\n      margin-bottom: 5px;\n      font-size: 20px;\n    }\n  }\n"])),gn),wn=(0,z.ZP)(w.gN)(Q||(Q=(0,k.Z)(["\n  padding: 0 20px;\n  background: #e9eff6;\n  line-height: 40px;\n  border-width: 0;\n  border-radius: 5px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 18px;\n  text-align: center;\n  &:focus {\n    outline: none;\n    border: solid 2px #560bad;\n  }\n"]))),Pn=(0,z.ZP)(wn)(U||(U=(0,k.Z)([""]))),kn=z.ZP.button(X||(X=(0,k.Z)(["\n  --color: black;\n  padding: 5px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-family: inherit;\n  cursor: pointer;\n  width: 8em;\n  height: 2.6em;\n  line-height: 2.5em;\n  margin: 20px;\n  font-size: 17px;\n  border-radius: 6px;\n  font-weight: 500;\n\n  &:hover {\n    color: #fff;\n    background-color: black;\n  }\n\n  &:hover:before {\n    top: -30px;\n    left: -30px;\n  }\n"]))),zn=z.ZP.p(nn||(nn=(0,k.Z)(["\n  color: red;\n"]))),Cn=t(5336),An=document.querySelector("#modal-root"),Fn=(0,P.Ry)({name:(0,P.Z_)().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:(0,P.Z_)().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}),_n=function(n){var e=n.onCloseModal,t=n.id,r=n.name,a=n.number,o=(0,j.I0)(),i=(0,v.gW)().allContacts,s={name:r,number:a};(0,Z.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,bn.createPortal)((0,B.jsx)(Zn,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,B.jsx)(jn,{initialValues:s,onSubmit:function(n,r){var a,s=n.name,c=n.number,l=r.resetForm,d=(0,fn.Z)(i);try{for(d.s();!(a=d.n()).done;){var p=a.value;if(c===p.number)return void(0,Cn.A)("A contact with this number already exists under the name ".concat(p.name))}}catch(u){d.e(u)}finally{d.f()}o((0,y.o1)({name:s,id:t,number:c})),e(),(0,Cn.G)("\u0421ontact successfully changed"),l()},validationSchema:Fn,children:(0,B.jsxs)(vn,{autoComplete:"off",children:[(0,B.jsx)(yn,{children:"Change a contact's name or number"}),(0,B.jsxs)("label",{children:[(0,B.jsx)("span",{children:"Name"}),(0,B.jsx)(wn,{placeholder:"Enter new contact name",type:"text",name:"name"}),(0,B.jsx)(w.Bc,{component:zn,name:"name"})]}),(0,B.jsxs)("label",{children:[(0,B.jsx)("span",{children:"Phone"}),(0,B.jsx)(Pn,{placeholder:"Enter new contact phone",type:"tel",name:"number"}),(0,B.jsx)(w.Bc,{component:zn,name:"number"})]}),(0,B.jsx)(kn,{type:"submit",children:"Change"})]})})}),An)},Sn=function(n){var e=n.id,t=n.name,r=n.number,a=(0,Z.useState)(null),o=(0,R.Z)(a,2),i=o[0],s=o[1],c=(0,Z.useState)(!1),l=(0,R.Z)(c,2),d=l[0],p=l[1],u=(0,j.I0)(),x=(0,v.gW)(),m=x.isLoading,h=x.error,f=function(){p(!d)};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(V,{children:t[0]}),(0,B.jsxs)(pn,{children:[(0,B.jsx)(mn,{children:t}),(0,B.jsx)(hn,{children:r})]}),(0,B.jsxs)(G,{children:[(0,B.jsx)(un,{type:"button",onClick:f,children:(0,B.jsx)(W.evw,{size:20})}),m&&i===e?(0,B.jsx)(K,{size:40}):(0,B.jsx)(xn,{type:"button",onClick:function(){u((0,y.GK)(e)),s(e),h||I.Am.success("Contact ".concat(t," successfully deleted"))},disabled:m,children:(0,B.jsx)(M.VPh,{size:20})})]}),d&&(0,B.jsx)(_n,{onCloseModal:f,id:e,name:t,number:r})]})},En=z.ZP.ul(en||(en=(0,k.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 5px;\n  justify-content: center;\n"]))),Bn=z.ZP.div(tn||(tn=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 20px;\n"]))),Ln=z.ZP.li(rn||(rn=(0,k.Z)(["\n  display: flex;\n  flex-basis: calc((100% - 20px - 60px) / 3);\n  align-items: center;\n  gap: 15px;\n  justify-content: space-between;\n  margin-bottom: 0.25rem;\n  padding: 10px 20px;\n\n  border-radius: 5px;\n  color: #fff;\n  background: rgb(223, 225, 235);\n"]))),Nn=function(){var n=(0,v.gW)().filteredContacts;return(0,B.jsx)(Bn,{children:n.length>0?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(En,{children:n.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,B.jsx)(Ln,{children:(0,B.jsx)(Sn,{id:e,name:t,number:r})},e)}))})}):(0,B.jsx)("b",{children:"No contact found"})})},Jn=t(1273),Rn=t(7533),In=z.ZP.label(an||(an=(0,k.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  & span {\n    margin-right: 10px;\n    padding: 5px;\n    font-size: 20px;\n    color: #000;\n    background: yellow;\n    border-radius: 5px;\n  }\n"]))),Mn=z.ZP.input(on||(on=(0,k.Z)(["\n  padding: 0 20px;\n  background: #e9eff6;\n  line-height: 40px;\n  border-width: 0;\n  border-radius: 5px;\n  font-family: 'Roboto', sans-serif;\n  font-size: 18px;\n\n  &:focus {\n    outline: none;\n    border: solid 2px #560bad;\n  }\n"]))),Wn=function(){var n=(0,j.I0)(),e=(0,j.v9)(Rn.A);return(0,B.jsxs)(In,{children:[(0,B.jsx)("span",{children:"Find contacts by name"}),(0,B.jsx)(Mn,{type:"text",name:"filter",placeholder:"Search...",value:e,onChange:function(e){n((0,Jn.x)(e.target.value))}})]})},qn=z.ZP.div(sn||(sn=(0,k.Z)(["\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  padding: 20px;\n  text-align: center;\n  height: 100vh;\n  & h1,\n  h2 {\n    color: black;\n  }\n"]))),Gn=z.ZP.h1(cn||(cn=(0,k.Z)(["\n  font-size: 30px;\n"]))),Vn=z.ZP.h2(ln||(ln=(0,k.Z)(["\n  font-size: 20px;\n"]))),Hn=z.ZP.p(dn||(dn=(0,k.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 10px;\n  border-radius: 15px;\n  background-color: white;\n"]))),Kn=function(){var n=(0,j.I0)(),e=(0,v.gW)(),t=e.allContacts,r=e.isLoading,a=e.error,o=(0,v.J6)().LoaderBig;(0,Z.useEffect)((function(){n((0,y.yF)())}),[n]);return(0,B.jsxs)(qn,{isHeight:t.length>0,children:[(0,B.jsx)(Gn,{children:"Phonebook"}),(0,B.jsx)(J,{onSubmit:function(e,r){if(i=r,t.some((function(n){return n.number===i})))return a=r,o=e,(0,Cn.A)("".concat(a," is already in contacts under the name ").concat(o,"."));var a,o,i;n((0,y.uK)({name:e,number:r})),(0,Cn.G)("Contact ".concat(e," added successfully"))}}),(0,B.jsx)(Vn,{children:"Your contacts"}),!a&&r&&(0,B.jsx)(o,{}),a||r||0!==t.length?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Wn,{}),(0,B.jsx)(Nn,{})]}):(0,B.jsx)(Hn,{children:"Contacts list is empty"})]})},$n=function(){var n=(0,v.aC)().isLoading,e=(0,v.J6)().LoaderBig;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(g.Helmet,{children:(0,B.jsx)("title",{children:"Contacts"})}),n&&(0,B.jsx)(e,{}),(0,B.jsx)(Kn,{})]})}}}]);
//# sourceMappingURL=181.1b9285f6.chunk.js.map